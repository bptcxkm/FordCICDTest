{"header":{"masterId":86308614,"scriptName":"CICDTest\\DVP\\main\\NA_Entry","busNo":4610298,"mediaType":4,"mediaTypeName":"call","purposeType":"General","variableRedaction":"","libraryId":"C2609D5B-BD1B-473C-91FD-C1968ADC9E09","lockInfo":{"lockedName":"","lockedId":"","lockedDate":""},"nextActionId":43,"status":"Active","lastSavedIn":"api"},"actions":{"1":{"actionId":1,"libraryId":"B2F794C5-0232-40E7-9830-76D573BF57D7","name":"BEGIN","version":1,"label":"NA_Entry","dependencyOrder":"0","implType":"0","x":144,"y":240},"2":{"actionId":2,"libraryId":"F8B958D0-8CD3-40DF-97D3-5862930B0807","name":"RUNSUB","version":1,"label":"Global PortChecker","dependencyOrder":"2","implType":"0","x":640,"y":240},"3":{"actionId":3,"libraryId":"B333DA63-33C8-4297-A58A-E9546CF7F0F2","name":"SNIPPET","version":1,"label":"Assign initial system values","dependencyOrder":"1","implType":"0","x":464,"y":240},"10":{"actionId":10,"libraryId":"D28D2B39-D4DB-499A-9B8B-F3879E4C5B25","name":"ANNOTATION","version":1,"label":"Annotation","dependencyOrder":"3","implType":"0","x":576,"y":80},"28":{"actionId":28,"libraryId":"7D5D3B99-DF55-4CCC-A78A-981B3F99F5BE","name":"VOICEPARAMS","version":1,"label":"Set English Default","dependencyOrder":"4","implType":"0","x":304,"y":240},"30":{"actionId":30,"libraryId":"F8B958D0-8CD3-40DF-97D3-5862930B0807","name":"RUNSUB","version":1,"label":"NA Regional DNIS Loader Micro-Service","dependencyOrder":"5","implType":"0","x":1216,"y":240},"31":{"actionId":31,"libraryId":"F8B958D0-8CD3-40DF-97D3-5862930B0807","name":"RUNSUB","version":1,"label":"NA Regional Call Blocker Micro-Service","dependencyOrder":"6","implType":"0","x":832,"y":240},"32":{"actionId":32,"libraryId":"B64A6796-4F66-4B1B-A9B5-3AF926AB4B7C","name":"HANGUP","version":1,"label":"Hangup","dependencyOrder":"7","implType":"0","x":1040,"y":416},"33":{"actionId":33,"libraryId":"6695BA9C-E1D6-4F3C-A15A-94F1400E3169","name":"IF","version":1,"label":"DNIS Not Found Check","dependencyOrder":"8","implType":"0","x":1392,"y":240},"34":{"actionId":34,"libraryId":"D28D2B39-D4DB-499A-9B8B-F3879E4C5B25","name":"ANNOTATION","version":1,"label":"Annotation","dependencyOrder":"9","implType":"0","x":1360,"y":112},"35":{"actionId":35,"libraryId":"D28D2B39-D4DB-499A-9B8B-F3879E4C5B25","name":"ANNOTATION","version":1,"label":"Annotation","dependencyOrder":"10","implType":"0","x":1024,"y":112},"36":{"actionId":36,"libraryId":"6695BA9C-E1D6-4F3C-A15A-94F1400E3169","name":"IF","version":1,"label":"callblocked = True","dependencyOrder":"11","implType":"0","x":1040,"y":240},"37":{"actionId":37,"libraryId":"B1B9A2DD-65B6-4626-9CF5-9CFA69CF59E2","name":"PLAY","version":1,"label":"The number dialed is no longer in service.","dependencyOrder":"12","implType":"0","x":1392,"y":416},"38":{"actionId":38,"libraryId":"B64A6796-4F66-4B1B-A9B5-3AF926AB4B7C","name":"HANGUP","version":1,"label":"Hangup","dependencyOrder":"13","implType":"0","x":2144,"y":240},"39":{"actionId":39,"libraryId":"F8B958D0-8CD3-40DF-97D3-5862930B0807","name":"RUNSUB","version":1,"label":"Callcenter Config Loader","dependencyOrder":"14","implType":"0","x":1616,"y":240},"40":{"actionId":40,"libraryId":"F8B958D0-8CD3-40DF-97D3-5862930B0807","name":"RUNSUB","version":1,"label":"Global GreetLang Micro-Service","dependencyOrder":"15","implType":"0","x":1808,"y":240},"41":{"actionId":41,"libraryId":"6695BA9C-E1D6-4F3C-A15A-94F1400E3169","name":"IF","version":1,"label":"Hangup Check","dependencyOrder":"16","implType":"0","x":1968,"y":240},"42":{"actionId":42,"libraryId":"B1B9A2DD-65B6-4626-9CF5-9CFA69CF59E2","name":"PLAY","version":1,"label":"Goodbye","dependencyOrder":"17","implType":"0","x":1968,"y":416}},"properties":{"1":{"0":{"name":"RootFolder","value":""},"1":{"name":"Application","value":""},"2":{"name":"ParamCount","value":""},"3":{"name":"Parameters","value":[]}},"2":{"0":{"name":"ScriptName","value":"{scriptpath}GBL_Port_Checker"},"1":{"name":"ParamCount","value":""},"2":{"name":"ReturnVariable","value":"RTN"},"3":{"name":"Parameters","value":["{notificationemail}"]}},"3":{"0":{"name":"Data","value":"//Assign initial system values.\r\nASSIGN Lang= \"Eng\"  //English language\r\nASSIGN NotificationEmail = \"kevin.muterspaugh@bptcx.net\"//Set notification email used in port checker script.  This should be a dist. list to the system admins.\r\n\r\nSELECT\r\n {\r\n  CASE runScript.length > 0 //Voice, Legacy Chat, Work Item\r\n  {\r\n   ASSIGN normalizedScriptName = \"{runScript}\"\r\n  }\r\n  CASE __runScript.length > 0 //Legacy Email\r\n  {\r\n   ASSIGN normalizedScriptName = \"{__runScript}\"  \r\n  }\r\n  CASE __targetScript.length > 0 //Simulate Inbound\r\n  {\r\n   ASSIGN normalizedScriptName = \"{__targetScript}\"\r\n  }\r\n  CASE __scriptName.length > 0 //Digital\r\n  {\r\n   ASSIGN normalizedScriptName = \"{__scriptName}\"\r\n  }\r\n  CASE customScript.length > 0 //Custom Outbound script\r\n  {\r\n   ASSIGN normalizedScriptName = \"{customScript}\"  \r\n  }\r\n  CASE __reskillscript.length > 0 //Custom Script assigned to skill on reskill\r\n  {\r\n   ASSIGN normalizedScriptName = \"{__reskillscript}\"  \r\n  }\r\n  CASE global:callSuppScript.length > 0 //Suppression script\r\n  {\r\n   ASSIGN normalizedScriptName = \"{global:callSuppScript}\"\r\n  }\r\n}\r\n\r\nIF normalizedScriptName.length > 0\r\n{\r\n ASSIGN folderArray = \"{normalizedScriptName.split('\\')}\"\r\n folderEnv = folderArray.size - 1\r\n ASSIGN env = \"{folderArray[folderEnv]}\"\r\n\r\n FOR i = 1 TO folderArray.size - 1\r\n {\r\n  ASSIGN folderPath = \"{folderPath}\\{folderArray[i]}\"\r\n  }\r\n}\r\n\r\nIF env.length = 0\r\n {\r\n  ASSIGN env = \"DEV\"\r\n }\r\n\r\nASSIGN scriptPath = \"~{folderPath}\\\"\r\nASSIGN promptPath = \"~{folderPath}\\Prompts\\\"\r\nASSIGN grammarPath = \"~{folderPath}\\Grammars\\\"\r\n"},"1":{"name":"MaxStringSize","value":"Limit2K"}},"10":{"0":{"name":"Comments","value":"This script determines if we are getting close to maximizing the number of phone lines available. \nIt will email internal support team to investigate. "},"1":{"name":"Width","value":"154"},"2":{"name":"Height","value":"96"}},"28":{"0":{"name":"TTSVolume","value":"70"},"1":{"name":"TTSRate","value":"0"},"2":{"name":"TTSVoice","value":"4: Sharon, Female (US)"},"3":{"name":"unused1073743309","value":""},"4":{"name":"ASRTuningEnabled","value":"NoChange"},"5":{"name":"ASRUniversalsEnabled","value":"NoChange"},"6":{"name":"ASRUniversalContentType","value":"PhraseList"},"7":{"name":"ASRUniversalPhraseList","value":""},"8":{"name":"ASRUniversalGrammarFile","value":""},"9":{"name":"ASRUniversalVarName","value":"_ASRUniversal"},"10":{"name":"ASRLanguageLocale","value":"NoChange"}},"30":{"0":{"name":"ScriptName","value":"{scriptpath}NA_DNIS_Loader"},"1":{"name":"ParamCount","value":""},"2":{"name":"ReturnVariable","value":"cfgscript"},"3":{"name":"Parameters","value":[""]}},"31":{"0":{"name":"ScriptName","value":"{scriptpath}NA_Call_Blocker"},"1":{"name":"ParamCount","value":""},"2":{"name":"ReturnVariable","value":"callblocked"},"3":{"name":"Parameters","value":[]}},"32":{},"33":{"0":{"name":"Expression","value":"cfgScript = \"DNIS_Not_Found\""}},"34":{"0":{"name":"Comments","value":"Is the DNIS configured true or false."},"1":{"name":"Width","value":"77"},"2":{"name":"Height","value":"56"}},"35":{"0":{"name":"Comments","value":"Is this ANI blacklisted true or False."},"1":{"name":"Width","value":"77"},"2":{"name":"Height","value":"56"}},"36":{"0":{"name":"Expression","value":"callblocked"}},"37":{"0":{"name":"Sequence","value":"\"%The number dialed is no longer in service.\""},"1":{"name":"Phrase","value":""},"2":{"name":"ClearDigits","value":"True"},"3":{"name":"DetectDTMF","value":"False"},"4":{"name":"SuppressSilence","value":""},"5":{"name":"TTSVolume","value":""},"6":{"name":"TTSRate","value":""},"7":{"name":"TTSVoice","value":""}},"38":{},"39":{"0":{"name":"ScriptName","value":"{scriptpath}{cfgScript}"},"1":{"name":"ParamCount","value":""},"2":{"name":"ReturnVariable","value":"greetdatajson"},"3":{"name":"Parameters","value":["greeting"]}},"40":{"0":{"name":"ScriptName","value":"{scriptpath}GBL_Greet_Lang"},"1":{"name":"ParamCount","value":""},"2":{"name":"ReturnVariable","value":"greetresult"},"3":{"name":"Parameters","value":["{greetdatajson}"]}},"41":{"0":{"name":"Expression","value":"greetresult = \"HUP\""}},"42":{"0":{"name":"Sequence","value":"\"%Goodbye\""},"1":{"name":"Phrase","value":""},"2":{"name":"ClearDigits","value":"True"},"3":{"name":"DetectDTMF","value":"False"},"4":{"name":"SuppressSilence","value":""},"5":{"name":"TTSVolume","value":""},"6":{"name":"TTSRate","value":""},"7":{"name":"TTSVoice","value":""}}},"branches":{"1":[{"to":28,"label":"","type":"default","index":0,"ports":"c,c","lineType":"straight","elbows":[]}],"2":[{"to":31,"label":"","type":"default","index":0,"ports":"c,c","lineType":"straight","elbows":[]}],"3":[{"to":2,"label":"","type":"default","index":0,"ports":"c,c","lineType":"straight","elbows":[]}],"10":[{"to":2,"label":"","type":"default","index":0,"ports":"c,c","lineType":"straight","elbows":[]}],"28":[{"to":3,"label":"","type":"default","index":0,"ports":"c,c","lineType":"straight","elbows":[]}],"30":[{"to":33,"label":"","type":"default","index":0,"ports":"c,c","lineType":"straight","elbows":[]}],"31":[{"to":36,"label":"","type":"default","index":0,"ports":"c,c","lineType":"straight","elbows":[]}],"33":[{"to":37,"label":"True","type":"branch","index":0,"ports":"c,c","lineType":"straight","elbows":[]},{"to":39,"label":"False","type":"branch","index":1,"ports":"c,c","lineType":"straight","elbows":[]}],"34":[{"to":33,"label":"","type":"default","index":0,"ports":"c,c","lineType":"straight","elbows":[]}],"35":[{"to":36,"label":"","type":"default","index":0,"ports":"c,c","lineType":"straight","elbows":[]}],"36":[{"to":32,"label":"True","type":"branch","index":0,"ports":"c,c","lineType":"straight","elbows":[]},{"to":30,"label":"False","type":"branch","index":1,"ports":"c,c","lineType":"straight","elbows":[]}],"37":[{"to":32,"label":"","type":"default","index":0,"ports":"c,c","lineType":"straight","elbows":[]}],"39":[{"to":40,"label":"","type":"default","index":0,"ports":"c,c","lineType":"straight","elbows":[]}],"40":[{"to":41,"label":"","type":"default","index":0,"ports":"c,c","lineType":"straight","elbows":[]}],"41":[{"to":42,"label":"True","type":"branch","index":0,"ports":"c,c","lineType":"straight","elbows":[]},{"to":38,"label":"False","type":"branch","index":1,"ports":"c,c","lineType":"straight","elbows":[]}],"42":[{"to":38,"label":"","type":"default","index":0,"ports":"c,c","lineType":"straight","elbows":[]}]}}